<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
    <link rel="stylesheet" href="./css/styles.css">
    <title> Your Cart </title>
</head>
<body id = 'wrapper'>
    <%- include('partials/header.ejs') %>
    <div class = 'content-div'>
        <h4> Your Cart </h4>
        <div id = 'cart-items-div'>
            <!-- Here it is that the cart items are rendered -->
            <% if (noRender) { %>
                <div class = "column-centered-div">
                    <p> Ooops... </p>
                    <p> It seems your cart is empty </p>
                    <p> Why don't you checkout our awesome products ? </p>
                    <button class = "btn btn-success" onclick = "goToHomeScreen()"> Go to Store </button>
                </div>
                <% } else { %>
                    <div class = 'column-centered-div'>
                        <% cartProducts.forEach((product) => { %>
                            <div class = 'cart-item'>
                                <img class = 'cart-item-image' src = "<%= product.thumbnail %>" alt = "<%= product.name %>">
                                <div>
                                    <h5> <%= product.name %> </h5>
                                    <p> Price: <%= product.price %> </p>
                                    <p> Quantity: <%= product.quantity %> </p>
                                    <div id = 'right-align-div'>
                                        <i class = "hoverable fas fa-trash" onclick = "deleteItem('<%= cartId %>', '<%= product.id%>')"></i>
                                    </div>
                                </div>
                            </div>
                            <% }) %>
                    </div>
                        <div class = "column-centered-div" id = "total-div">
                            <h4> Total: <%= total %> </h4>
                            <button class = 'btn btn-primary' onclick = "return checkoutCart()"> Proceed to checkout </button>
                        </div>
                        <% } %>
                    </div>
                </div>
                <%- include('partials/footer.ejs') %>
</body>
    <script src="/js/cart.js"></script>
</html>